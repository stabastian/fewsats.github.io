(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"GyP+":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return v}));var a=n("o0o1"),r=n.n(a),i=n("hKI/"),o=n.n(i),c=n("nc0P"),s=n.n(c),u=function(e){try{var t=window.localStorage.getItem("".concat("TTT","__").concat(e));return JSON.parse(t)}catch(n){return console.log(n),null}},l=function(e){try{window.localStorage.removeItem("".concat("TTT","__").concat(e))}catch(t){return console.log(t),null}},p=o()((function(e,t){try{var n=JSON.stringify(t);return window.localStorage.setItem("".concat("TTT","__").concat(e),n),JSON.parse(n)}catch(a){console.log(a)}}),100),f=function(){var e,t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.a.awrap(fetch("https://data.messari.io/api/v1/assets/eth/metrics"));case 3:return e=n.sent,n.next=6,r.a.awrap(e.json());case 6:return t=n.sent,n.abrupt("return",new s.a(t.data.market_data.price_usd).toFixed(2));case 10:return n.prev=10,n.t0=n.catch(0),n.abrupt("return",null);case 13:case"end":return n.stop()}}),null,null,[[0,10]],Promise)},d=function(){var e,t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.a.awrap(fetch("https://data.messari.io/api/v1/assets/btc/metrics"));case 3:return e=n.sent,n.next=6,r.a.awrap(e.json());case 6:return t=n.sent,n.abrupt("return",new s.a(t.data.market_data.price_usd).toFixed(2));case 10:return n.prev=10,n.t0=n.catch(0),n.abrupt("return",null);case 13:case"end":return n.stop()}}),null,null,[[0,10]],Promise)},v=function(){var e,t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.a.awrap(fetch("https://api.exchangeratesapi.io/latest"));case 3:return e=n.sent,n.next=6,r.a.awrap(e.json());case 6:return t=n.sent,n.abrupt("return",new s.a(t.rates.USD));case 10:return n.prev=10,n.t0=n.catch(0),n.abrupt("return",null);case 13:case"end":return n.stop()}}),null,null,[[0,10]],Promise)}},NljB:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/position-size-calculator",function(){return n("l3E+")}])},"hKI/":function(e,t,n){(function(t){var n="Expected a function",a=NaN,r="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt,l="object"==typeof t&&t&&t.Object===Object&&t,p="object"==typeof self&&self&&self.Object===Object&&self,f=l||p||Function("return this")(),d=Object.prototype.toString,v=Math.max,m=Math.min,b=function(){return f.Date.now()};function h(e,t,a){var r,i,o,c,s,u,l=0,p=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError(n);function h(t){var n=r,a=i;return r=i=void 0,l=t,c=e.apply(a,n)}function g(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-l>=o}function O(){var e=b();if(g(e))return S(e);s=setTimeout(O,function(e){var n=t-(e-u);return f?m(n,o-(e-l)):n}(e))}function S(e){return s=void 0,d&&r?h(e):(r=i=void 0,c)}function j(){var e=b(),n=g(e);if(r=arguments,i=this,u=e,n){if(void 0===s)return function(e){return l=e,s=setTimeout(O,t),p?h(e):c}(u);if(f)return s=setTimeout(O,t),h(u)}return void 0===s&&(s=setTimeout(O,t)),c}return t=y(t)||0,w(a)&&(p=!!a.leading,o=(f="maxWait"in a)?v(y(a.maxWait)||0,t):o,d="trailing"in a?!!a.trailing:d),j.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=u=i=s=void 0},j.flush=function(){return void 0===s?c:S(b())},j}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&d.call(e)==r}(e))return a;if(w(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=w(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=c.test(e);return n||s.test(e)?u(e.slice(2),n?2:8):o.test(e)?a:+e}e.exports=function(e,t,a){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError(n);return w(a)&&(r="leading"in a?!!a.leading:r,i="trailing"in a?!!a.trailing:i),h(e,t,{leading:r,maxWait:t,trailing:i})}}).call(this,n("yLpj"))},"l3E+":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return B}));var a=n("o0o1"),r=n.n(a),i=n("1OyB"),o=n("vuIU"),c=n("md7G"),s=n("foSv"),u=n("JX7q"),l=n("Ji7U"),p=n("rePB"),f=n("q1tI"),d=n.n(f),v=n("nc0P"),m=n.n(v),b=n("iuhU"),h=n("wOhW"),w=n("wqhH"),y=n("wx14");function g(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var O=d.a.createElement,S=function(e){var t=e.disabled,n=g(e,["disabled"]);return O("select",Object(y.a)({className:Object(b.a)("form-select block w-full mt-1 text-text bg-background border border-highlight"),disabled:t},n))},j=n("GyP+"),T=d.a.createElement;function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k="bitmex_calculator",C=[{key:"XBTUSD",value:"XBTUSD (BitMEX contracts)"},{key:"ETHUSD",value:"ETHUSD (BitMEX perpetual contracts)"},{key:"ALTS",value:"Alt pairs (BitMEX, Binance, etc...)"}],E=4,_={capital:1,entry:8e3,stop:7e3,target:9e3,risk:5,ethPrice:300},B=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return n=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o))),Object(p.a)(Object(u.a)(n),"state",{ready:!1,storageVersion:E,pair:"ALTS",form:_}),Object(p.a)(Object(u.a)(n),"handleInputChange",(function(e){var t,a,i;return r.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.target.name,a=e.target.value,"pair"!==e.target.name){o.next=10;break}if(n.setState({pair:e.target.value},(function(){Object(j.e)("".concat(k,"_pair"),n.state.pair);var e=Object(j.a)("".concat(k,"_").concat(n.state.pair));n.setState({form:e||_})})),"ETHUSD"!==a){o.next=9;break}return o.next=7,r.a.awrap(Object(j.c)());case 7:(i=o.sent)&&n.setState((function(e){return P({},e,{form:P({},e.form,{},{ethPrice:i})})}),(function(){Object(j.e)("".concat(k,"_").concat(n.state.pair),n.state.form)}));case 9:return o.abrupt("return");case 10:n.setState((function(e){return P({},e,{form:P({},e.form,{},Object(p.a)({},t,a))})}),(function(){Object(j.e)("".concat(k,"_").concat(n.state.pair),n.state.form),Object(j.e)("".concat(k,"_pair"),n.state.pair),Object(j.e)("".concat(k,"_storageVersion"),n.state.storageVersion)}));case 11:case"end":return o.stop()}}),null,null,null,Promise)})),n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e,t,n,a,i=this;return r.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=Object(j.a)("".concat(k,"_pair"))||"XBTUSD",t=Object(j.a)("".concat(k,"_storageVersion")),n=Object(j.a)("".concat(k,"_").concat(e)),t!==this.state.storageVersion&&(Object(j.f)("".concat(k,"_XBTUSD")),Object(j.f)("".concat(k,"_ETHUSD")),Object(j.f)("".concat(k,"_ALTS"))),this.setState({form:n&&t===this.state.storageVersion?n:_,pair:e,ready:!0}),o.next=7,r.a.awrap(Object(j.c)());case 7:(a=o.sent)&&this.setState((function(e){return P({},e,{form:P({},e.form,{},{ethPrice:a})})}),(function(){Object(j.e)("".concat(k,"_").concat(i.state.pair),i.state.form)}));case 9:case"end":return o.stop()}}),null,this,null,Promise)}},{key:"compute",value:function(){var e={riskAmount:0,distanceToStop:0,positionSizeBTC:0,positionSize:0,riskReward:0,contractValue:0,isLong:!1};try{var t=this.state,n=t.form,a=t.pair,r=n.capital,i=n.entry,o=n.stop,c=n.target,s=n.risk,u=n.ethPrice,l=new m.a(c).gt(new m.a(i)),p=new m.a(r).times(new m.a(s).div(100)).toFixed(8),f=new m.a(o).div(new m.a(i)).minus(1).times(l?-100:100).toFixed(3),d=new m.a(p).div(new m.a(f)).times(100).toFixed(8),v=l?new m.a(c).minus(new m.a(i)).div(new m.a(new m.a(i).minus(new m.a(o)))).toFixed(2):new m.a(i).minus(new m.a(c)).div(new m.a(new m.a(o).minus(new m.a(i)))).toFixed(2);if("ETHUSD"===a){var b=new m.a(u).times(1e-6).toFixed(8);e.contractValue=b,e.positionSize=new m.a(p).div(b).div(f).times(100).toFixed(0)}else"ALTS"===a?e.positionSize=new m.a(d).div(i).toFixed(2):"XBTUSD"===a&&(e.positionSize=new m.a(i).times(new m.a(d)).toFixed(0));return e.isLong=l,e.riskReward=v,e.positionSizeBTC=d,e.gain=new m.a(v).times(new m.a(p)).toFixed(8),e.riskAmount=p,e.distanceToStop=f,e}catch(h){return console.error("ouch!",h.message),e}}},{key:"render",value:function(){var e=this.state,t=e.ready,n=e.form,a=e.pair,r=n.capital,i=n.entry,o=n.stop,c=n.target,s=n.risk,u=n.ethPrice,l=this.compute(),p=l.riskAmount,f=l.contractValue,v=l.distanceToStop,m=l.positionSizeBTC,y=l.gain,g=l.positionSize,O=l.riskReward,j=l.isLong;return T(h.a,{title:"BitMEX and Binance Position Size Calculator",description:"Position Size Calculator for Bitcoin and Altcoins"},T("div",{className:Object(b.a)({"opacity-100":t,"opacity-0":!t})},T("h1",{className:"text-2xl text-left"},"Position size calculator"),T("div",null,T("div",{className:"mt-8"},T(S,{name:"pair",value:a,onChange:this.handleInputChange},C.map((function(e){return T("option",{key:e.key,value:e.key},e.value)})))),T("div",{className:"mt-4"},T("table",{className:Object(b.a)({"border-green":j},{"border-red":!j},"border-l-2 shadow-xl table-fixed w-full mt-2")},T("tbody",null,T(w.a,{label:"Account Balance",name:"capital",value:r,onChange:this.handleInputChange,tip:"This is your total account balance."}),T(w.a,{label:"Risk (%)",name:"risk",value:s,onChange:this.handleInputChange,tip:"Percentage of acceptable risk."}),"ETHUSD"===a&&T(d.a.Fragment,null,T(w.a,{label:"ETH price ($)",name:"ethPrice",value:u,onChange:this.handleInputChange,tip:"Spot ETH price ($)"}),T(w.a,{label:"Contract Value",value:f,readOnly:!0,tip:"ETH/USD perpetual contract value."})),T(w.a,{label:"Entry price",name:"entry",value:i,onChange:this.handleInputChange,tip:"Position entry price."}),T(w.a,{label:"Stop-Loss Price",name:"stop",value:o,onChange:this.handleInputChange,tip:"Stop-Loss price."}),T(w.a,{label:"Take Profit Price",name:"target",value:c,onChange:this.handleInputChange,tip:"Take Profit price."}),T(w.a,{label:"Total Risk in BTC",value:p,readOnly:!0,tip:"Maximum loss in case the Stop-Loss gets hit."}),T(w.a,{label:"Distance to Stop-Loss (%)",value:v,readOnly:!0,tip:T("div",null,T("div",null,"Difference between Entry price and Stop-Loss."),T("div",null,"Expressed in percentage."))}),T(w.a,{label:"Position Size in BTC",value:m,readOnly:!0,tip:T("div",null,T("div",null,"Position size expressed in BTC."),T("div",{className:"mt-1"},"Calculated with the following formula:"),T("div",{className:"underline"},"Position Size = Risk Amount/Distance to Stop"),T("div",{className:"mt-1"},"Assuming an account of 1 BTC."),T("div",null,"A risk of 5% per trade."),T("div",null,"A 10% distance from the entry to the Stop-Loss."),T("div",{className:"underline"},"Position Size = (1 BTC x 0.05)/0.1 = 0.5 BTC"))}),T(w.a,{label:"Position Size",value:g,variant:j?"long":"short",readOnly:!0,tip:T("div",null,T("div",null,"Position size expressed in USD or $ALT."),T("div",null,"On BitMEX it corresponds to the amount of contracts to buy."),T("div",null,"For $ALTS it corresponds to the amount to buy."),T("div",{className:"mt-1"},"Calculated with the following formula:"),T("div",{className:"underline"},"Position Size = Entry price * Position Size in BTC"))}),T(w.a,{label:"Risk Reward Ratio",value:O,readOnly:!0,tip:"Risk/Reward Ratio."}),T(w.a,{label:"Potential Gain",value:y,readOnly:!0,tip:"Realised gain in case of Take Profit."})))))))}}]),t}(f.Component)}},[["NljB",0,2,1,3,4,6]]]);